var bt=Object.defineProperty;var vt=(t,e,r)=>e in t?bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var q=(t,e,r)=>(vt(t,typeof e!="symbol"?e+"":e,r),r);const yt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}};yt();function N(){}function fe(t,e){for(const r in e)t[r]=e[r];return t}function st(t){return t()}function Ue(){return Object.create(null)}function G(t){t.forEach(st)}function Tt(t){return typeof t=="function"}function B(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Pt(t){return Object.keys(t).length===0}function K(t,e,r,n){if(t){const i=ot(t,e,r,n);return t[0](i)}}function ot(t,e,r,n){return t[1]&&n?fe(r.ctx.slice(),t[1](n(e))):r.ctx}function H(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],o=Math.max(e.dirty.length,i.length);for(let l=0;l<o;l+=1)s[l]=e.dirty[l]|i[l];return s}return e.dirty|i}return e.dirty}function V(t,e,r,n,i,s){if(i){const o=ot(e,r,n,s);t.p(o,i)}}function W(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function Ne(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function v(t,e){t.appendChild(e)}function b(t,e,r){t.insertBefore(e,r||null)}function $(t){t.parentNode.removeChild(t)}function D(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function y(t){return document.createElement(t)}function de(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function A(t){return document.createTextNode(t)}function I(){return A(" ")}function te(){return A("")}function j(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function Rt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function g(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function It(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function he(t,e){t.value=e==null?"":e}function St(t,e,{bubbles:r=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,r,n,e),i}let Z;function Y(t){Z=t}function lt(){if(!Z)throw new Error("Function called outside component initialization");return Z}function re(t){lt().$$.on_mount.push(t)}function ie(){const t=lt();return(e,r,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=St(e,r,{cancelable:n});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}function ae(t,e){const r=t.$$.callbacks[e.type];r&&r.slice().forEach(n=>n.call(this,e))}const Q=[],me=[],ce=[],ye=[],At=Promise.resolve();let Te=!1;function Bt(){Te||(Te=!0,At.then(at))}function Pe(t){ce.push(t)}function qe(t){ye.push(t)}const $e=new Set;let le=0;function at(){const t=Z;do{for(;le<Q.length;){const e=Q[le];le++,Y(e),Et(e.$$)}for(Y(null),Q.length=0,le=0;me.length;)me.pop()();for(let e=0;e<ce.length;e+=1){const r=ce[e];$e.has(r)||($e.add(r),r())}ce.length=0}while(Q.length);for(;ye.length;)ye.pop()();Te=!1,$e.clear(),Y(t)}function Et(t){if(t.fragment!==null){t.update(),G(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Pe)}}const ue=new Set;let C;function z(){C={r:0,c:[],p:C}}function M(){C.r||G(C.c),C=C.p}function _(t,e){t&&t.i&&(ue.delete(t),t.i(e))}function k(t,e,r,n){if(t&&t.o){if(ue.has(t))return;ue.add(t),C.c.push(()=>{ue.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Ot(t,e){const r={},n={},i={$$scope:1};let s=t.length;for(;s--;){const o=t[s],l=e[s];if(l){for(const a in o)a in l||(n[a]=1);for(const a in l)i[a]||(r[a]=l[a],i[a]=1);t[s]=l}else for(const a in o)i[a]=1}for(const o in n)o in r||(r[o]=void 0);return r}function xt(t){return typeof t=="object"&&t!==null?t:{}}function Le(t,e,r){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function S(t){t&&t.c()}function P(t,e,r,n){const{fragment:i,on_mount:s,on_destroy:o,after_update:l}=t.$$;i&&i.m(e,r),n||Pe(()=>{const a=s.map(st).filter(Tt);o?o.push(...a):G(a),t.$$.on_mount=[]}),l.forEach(Pe)}function R(t,e){const r=t.$$;r.fragment!==null&&(G(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Ut(t,e){t.$$.dirty[0]===-1&&(Q.push(t),Bt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function E(t,e,r,n,i,s,o,l=[-1]){const a=Z;Y(t);const c=t.$$={fragment:null,ctx:null,props:s,update:N,not_equal:i,bound:Ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ue(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};o&&o(c.root);let d=!1;if(c.ctx=r?r(t,e.props||{},(f,m,...p)=>{const u=p.length?p[0]:m;return c.ctx&&i(c.ctx[f],c.ctx[f]=u)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](u),d&&Ut(t,f)),m}):[],c.update(),d=!0,G(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=It(e.target);c.fragment&&c.fragment.l(f),f.forEach($)}else c.fragment&&c.fragment.c();e.intro&&_(t.$$.fragment),P(t,e.target,e.anchor,e.customElement),at()}Y(a)}class O{$destroy(){R(this,1),this.$destroy=N}$on(e,r){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Pt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Fe(t){let e,r;return{c(){e=de("title"),r=A(t[0])},m(n,i){b(n,e,i),v(e,r)},p(n,i){i&1&&ne(r,n[0])},d(n){n&&$(e)}}}function Nt(t){let e,r,n,i=t[0]&&Fe(t);const s=t[3].default,o=K(s,t,t[2],null);return{c(){e=de("svg"),i&&i.c(),r=te(),o&&o.c(),g(e,"xmlns","http://www.w3.org/2000/svg"),g(e,"viewBox",t[1]),g(e,"class","svelte-c8tyih")},m(l,a){b(l,e,a),i&&i.m(e,null),v(e,r),o&&o.m(e,null),n=!0},p(l,[a]){l[0]?i?i.p(l,a):(i=Fe(l),i.c(),i.m(e,r)):i&&(i.d(1),i=null),o&&o.p&&(!n||a&4)&&V(o,s,l,l[2],n?H(s,l[2],a,null):W(l[2]),null),(!n||a&2)&&g(e,"viewBox",l[1])},i(l){n||(_(o,l),n=!0)},o(l){k(o,l),n=!1},d(l){l&&$(e),i&&i.d(),o&&o.d(l)}}}function qt(t,e,r){let{$$slots:n={},$$scope:i}=e,{title:s=null}=e,{viewBox:o}=e;return t.$$set=l=>{"title"in l&&r(0,s=l.title),"viewBox"in l&&r(1,o=l.viewBox),"$$scope"in l&&r(2,i=l.$$scope)},[s,o,i,n]}class Lt extends O{constructor(e){super(),E(this,e,qt,Nt,B,{title:0,viewBox:1})}}function Ft(t){let e,r,n;return{c(){e=de("path"),r=I(),n=de("path"),g(e,"d","M256 48c-42.9 0-84.2 13-119.2 37.5-34.2 24-60.2 57.2-75.1 96.1L58 192h45.7l1.9-5c8.2-17.8 19.4-33.9 33.5-48 31.2-31.2 72.7-48.4 116.9-48.4s85.7 17.2 116.9 48.4c31.2 31.2 48.4 72.7 48.4 116.9 0 44.1-17.2 85.7-48.4 116.9-31.2 31.2-72.7 48.4-116.9 48.4-44.1 0-85.6-17.2-116.9-48.4-14-14-25.3-30.1-33.5-47.9l-1.9-5H58l3.6 10.4c14.9 38.9 40.9 72.1 75.1 96.1C171.8 451.1 213 464 256 464c114.7 0 208-93.3 208-208S370.7 48 256 48z"),g(n,"d","M48 277.4h189.7l-43.6 44.7L224 352l96-96-96-96-31 29.9 44.7 44.7H48v42.8z")},m(i,s){b(i,e,s),b(i,r,s),b(i,n,s)},p:N,d(i){i&&$(e),i&&$(r),i&&$(n)}}}function Ct(t){let e,r;const n=[{viewBox:"0 0 512 512"},t[0]];let i={$$slots:{default:[Ft]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)i=fe(i,n[s]);return e=new Lt({props:i}),{c(){S(e.$$.fragment)},m(s,o){P(e,s,o),r=!0},p(s,[o]){const l=o&1?Ot(n,[n[0],xt(s[0])]):{};o&2&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){k(e.$$.fragment,s),r=!1},d(s){R(e,s)}}}function Jt(t,e,r){return t.$$set=n=>{r(0,e=fe(fe({},e),Ne(n)))},e=Ne(e),[e]}class ct extends O{constructor(e){super(),E(this,e,Jt,Ct,B,{})}}const ee={apiBase:"https://sns-manager.herokuapp.com"},Dt="http://localhost".replace(/\/+$/,"");class ut{constructor(e={}){this.configuration=e}set config(e){this.configuration=e}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:Dt}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||ft}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const e=this.configuration.apiKey;if(e)return typeof e=="function"?e:()=>e}get accessToken(){const e=this.configuration.accessToken;if(e)return typeof e=="function"?e:async()=>e}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const jt=new ut;class zt{constructor(e=jt){q(this,"middleware");q(this,"fetchApi",async(e,r)=>{let n={url:e,init:r};for(const s of this.middleware)s.pre&&(n=await s.pre({fetch:this.fetchApi,...n})||n);let i;try{i=await(this.configuration.fetchApi||fetch)(n.url,n.init)}catch(s){for(const o of this.middleware)o.onError&&(i=await o.onError({fetch:this.fetchApi,url:n.url,init:n.init,error:s,response:i?i.clone():void 0})||i);if(i!==void 0)throw new Ht(s,"The request failed and the interceptors did not return an alternative response")}for(const s of this.middleware)s.post&&(i=await s.post({fetch:this.fetchApi,url:n.url,init:n.init,response:i.clone()})||i);return i});this.configuration=e,this.middleware=e.middleware}withMiddleware(...e){const r=this.clone();return r.middleware=r.middleware.concat(...e),r}withPreMiddleware(...e){const r=e.map(n=>({pre:n}));return this.withMiddleware(...r)}withPostMiddleware(...e){const r=e.map(n=>({post:n}));return this.withMiddleware(...r)}async request(e,r){const{url:n,init:i}=await this.createFetchParams(e,r),s=await this.fetchApi(n,i);if(s.status>=200&&s.status<300)return s;throw new Kt(s,"Response returned an error code")}async createFetchParams(e,r){let n=this.configuration.basePath+e.path;e.query!==void 0&&Object.keys(e.query).length!==0&&(n+="?"+this.configuration.queryParamsStringify(e.query));const i=Object.assign({},this.configuration.headers,e.headers);Object.keys(i).forEach(c=>i[c]===void 0?delete i[c]:{});const s=typeof r=="function"?r:async()=>r,o={method:e.method,headers:i,body:e.body,credentials:this.configuration.credentials},l={...o,...await s({init:o,context:e})},a={...l,body:Gt(l.body)||l.body instanceof URLSearchParams||Mt(l.body)?l.body:JSON.stringify(l.body)};return{url:n,init:a}}clone(){const e=this.constructor,r=new e(this.configuration);return r.middleware=this.middleware.slice(),r}}function Mt(t){return typeof Blob!="undefined"&&t instanceof Blob}function Gt(t){return typeof FormData!="undefined"&&t instanceof FormData}class Kt extends Error{constructor(r,n){super(n);q(this,"name","ResponseError");this.response=r}}class Ht extends Error{constructor(r,n){super(n);q(this,"name","FetchError");this.cause=r}}class J extends Error{constructor(r,n){super(n);q(this,"name","RequiredError");this.field=r}}function Vt(t,e){const r=t[e];return r!=null}function ft(t,e=""){return Object.keys(t).map(r=>dt(r,t[r],e)).filter(r=>r.length>0).join("&")}function dt(t,e,r=""){const n=r+(r.length?`[${t}]`:t);if(e instanceof Array){const i=e.map(s=>encodeURIComponent(String(s))).join(`&${encodeURIComponent(n)}=`);return`${encodeURIComponent(n)}=${i}`}if(e instanceof Set){const i=Array.from(e);return dt(t,i,r)}return e instanceof Date?`${encodeURIComponent(n)}=${encodeURIComponent(e.toISOString())}`:e instanceof Object?ft(e,n):`${encodeURIComponent(n)}=${encodeURIComponent(String(e))}`}function Wt(t){for(const e of t)if(e.contentType==="multipart/form-data")return!0;return!1}class be{constructor(e,r=n=>n){this.raw=e,this.transformer=r}async value(){return this.transformer(await this.raw.json())}}class Ce{constructor(e){this.raw=e}async value(){}}function Xt(t){if(t!==void 0)return t===null?null:{password:t.password,username:t.username}}function Qt(t){return Yt(t)}function Yt(t,e){return t==null?t:{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}function Re(t){return Zt(t)}function Zt(t,e){return t==null?t:{accessToken:t.access_token,expiresIn:t.expires_in,name:t.name,refreshToken:t.refresh_token,userId:t.user_id,username:t.username}}function en(t){if(t!==void 0)return t===null?null:{refresh_token:t.refreshToken}}function tn(t){return nn(t)}function nn(t,e){return t==null?t:{url:Vt(t,"url")?t.url:void 0}}function rn(t){return sn(t)}function sn(t,e){return t==null?t:{accessSecret:t.access_secret,accessToken:t.access_token}}class on extends zt{async bookmarksBookmarksGetRaw(e,r){if(e.userId===null||e.userId===void 0)throw new J("userId","Required parameter requestParameters.userId was null or undefined when calling bookmarksBookmarksGet.");const n={};e.userId!==void 0&&(n.user_id=e.userId);const i={};if(this.configuration&&this.configuration.accessToken){const o=this.configuration.accessToken,l=await o("jwt",[]);l&&(i.Authorization=`Bearer ${l}`)}const s=await this.request({path:"/api/pixiv/bookmarks",method:"GET",headers:i,query:n},r);return new Ce(s)}async bookmarksBookmarksGet(e,r){await this.bookmarksBookmarksGetRaw(e,r)}async pingPingGetRaw(e){const r={},n={};if(this.configuration&&this.configuration.accessToken){const s=this.configuration.accessToken,o=await s("jwt",[]);o&&(n.Authorization=`Bearer ${o}`)}const i=await this.request({path:"/api/pixiv/ping",method:"GET",headers:n,query:r},e);return new Ce(i)}async pingPingGet(e){await this.pingPingGetRaw(e)}async pixivAuthPostRaw(e,r){if(e.login===null||e.login===void 0)throw new J("login","Required parameter requestParameters.login was null or undefined when calling pixivAuthPost.");const n={},i={};i["Content-Type"]="application/json";const s=await this.request({path:"/api/pixiv/auth/",method:"POST",headers:i,query:n,body:Xt(e.login)},r);return new be(s,o=>Re(o))}async pixivAuthPost(e,r){return await(await this.pixivAuthPostRaw(e,r)).value()}async pixivPostPostPostRaw(e,r){if(e.images===null||e.images===void 0)throw new J("images","Required parameter requestParameters.images was null or undefined when calling pixivPostPostPost.");if(e.tags===null||e.tags===void 0)throw new J("tags","Required parameter requestParameters.tags was null or undefined when calling pixivPostPostPost.");if(e.title===null||e.title===void 0)throw new J("title","Required parameter requestParameters.title was null or undefined when calling pixivPostPostPost.");const n={},i={};if(this.configuration&&this.configuration.accessToken){const d=this.configuration.accessToken,f=await d("jwt",[]);f&&(i.Authorization=`Bearer ${f}`)}const o=Wt([{contentType:"multipart/form-data"}]);let l,a=!1;a=o,a?l=new FormData:l=new URLSearchParams,e.images&&e.images.forEach(d=>{l.append("images",d)}),e.tags!==void 0&&l.append("tags",e.tags),e.text!==void 0&&l.append("text",e.text),e.title!==void 0&&l.append("title",e.title);const c=await this.request({path:"/api/pixiv/post",method:"POST",headers:i,query:n,body:l},r);return new be(c,d=>tn(d))}async pixivPostPostPost(e,r){return await(await this.pixivPostPostPostRaw(e,r)).value()}async pixivRefreshRefreshPostRaw(e,r){if(e.refreshToken===null||e.refreshToken===void 0)throw new J("refreshToken","Required parameter requestParameters.refreshToken was null or undefined when calling pixivRefreshRefreshPost.");const n={},i={};i["Content-Type"]="application/json";const s=await this.request({path:"/api/pixiv/auth/refresh",method:"POST",headers:i,query:n,body:en(e.refreshToken)},r);return new be(s,o=>Re(o))}async pixivRefreshRefreshPost(e,r){return await(await this.pixivRefreshRefreshPostRaw(e,r)).value()}}const ln="sns-manager-tokens-",ht=localStorage,mt=t=>ln+t,L=t=>{const e=mt(t);return JSON.parse(ht.getItem(e)||"[]")},pt=(t,e)=>{const r=L(e);if(r.findIndex(n=>n.token===t.accessToken)===-1){const n=gt(t,e);n?(r.push(n),Se(r,e)):console.log("Invalid token",t)}else console.warn("User is already logged in. Ignoring")},gt=(t,e)=>{const r=e==="twitter",n=e==="pixiv",i=!!t.accessToken,s=r?rn(t):n?i?t:Re(t):Qt(t);return!s||!s.accessToken||r&&!s.accessSecret?null:{token:s.accessToken,refreshToken:s.refreshToken,userId:s.userId,username:s.username}},_t=(t,e,r)=>{const n=L(r),i=n.findIndex(o=>o.token===t.token),s=gt(e,r);return s?(n[i]=s,Se(n,r),s):(console.log("Invalid token",e),null)},Ie=(t,e)=>{const n=L(e).filter(i=>i.token!==t.token);Se(n,e)},Se=(t,e)=>{const r=mt(e);ht.setItem(r,JSON.stringify(t))};function an(t){let e,r,n,i,s,o;return n=new ct({}),{c(){e=y("a"),r=y("div"),S(n.$$.fragment),i=I(),s=A(t[0]),g(r,"class","w-4 h-4"),g(e,"href",t[1]()),g(e,"class","flex flex-row items-center font-bold")},m(l,a){b(l,e,a),v(e,r),P(n,r,null),v(e,i),v(e,s),o=!0},p(l,[a]){(!o||a&1)&&ne(s,l[0])},i(l){o||(_(n.$$.fragment,l),o=!0)},o(l){k(n.$$.fragment,l),o=!1},d(l){l&&$(e),R(n)}}}function cn(t,e,r){let{provider:n}=e;const i=ie(),s=()=>window.location.origin+window.location.pathname,o=()=>`${ee.apiBase}/api/${n}/auth?return_to=${encodeURIComponent(s())}`;return re(()=>{const a=new URLSearchParams(window.location.search).get(n);if(a){const c=JSON.parse(a);pt(c,n),history.replaceState("","",s()),i("login")}}),t.$$set=l=>{"provider"in l&&r(0,n=l.provider)},[n,o]}class ve extends O{constructor(e){super(),E(this,e,cn,an,B,{provider:0})}}function un(t){let e,r,n;return{c(){e=y("input"),g(e,"class","bg-white border py-1 px-2 disabled:bg-gray-200"),g(e,"type","text"),g(e,"name",t[4]),e.disabled=t[1],e.required=t[2],g(e,"placeholder",t[3])},m(i,s){b(i,e,s),he(e,t[0]),r||(n=j(e,"input",t[7]),r=!0)},p(i,s){s&16&&g(e,"name",i[4]),s&2&&(e.disabled=i[1]),s&4&&(e.required=i[2]),s&8&&g(e,"placeholder",i[3]),s&1&&e.value!==i[0]&&he(e,i[0])},d(i){i&&$(e),r=!1,n()}}}function fn(t){let e,r,n;return{c(){e=y("input"),g(e,"class","bg-white border py-1 px-2 disabled:bg-gray-200"),g(e,"type","password"),g(e,"name",t[4]),e.disabled=t[1],e.required=t[2],g(e,"placeholder",t[3])},m(i,s){b(i,e,s),he(e,t[0]),r||(n=j(e,"input",t[6]),r=!0)},p(i,s){s&16&&g(e,"name",i[4]),s&2&&(e.disabled=i[1]),s&4&&(e.required=i[2]),s&8&&g(e,"placeholder",i[3]),s&1&&e.value!==i[0]&&he(e,i[0])},d(i){i&&$(e),r=!1,n()}}}function dn(t){let e;function r(s,o){return s[5]?fn:un}let n=r(t),i=n(t);return{c(){i.c(),e=te()},m(s,o){i.m(s,o),b(s,e,o)},p(s,[o]){n===(n=r(s))&&i?i.p(s,o):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:N,o:N,d(s){i.d(s),s&&$(e)}}}function hn(t,e,r){let{value:n}=e,{disabled:i=!1}=e,{required:s=!1}=e,{placeholder:o=""}=e,{name:l=""}=e,{password:a=!1}=e;function c(){n=this.value,r(0,n)}function d(){n=this.value,r(0,n)}return t.$$set=f=>{"value"in f&&r(0,n=f.value),"disabled"in f&&r(1,i=f.disabled),"required"in f&&r(2,s=f.required),"placeholder"in f&&r(3,o=f.placeholder),"name"in f&&r(4,l=f.name),"password"in f&&r(5,a=f.password)},[n,i,s,o,l,a,c,d]}class Je extends O{constructor(e){super(),E(this,e,hn,dn,B,{value:0,disabled:1,required:2,placeholder:3,name:4,password:5})}}function mn(t){let e,r,n,i;const s=t[3].default,o=K(s,t,t[2],null);return{c(){e=y("button"),o&&o.c(),g(e,"class","disabled:text-gray-500 font-semibold border p-2 rounded"),e.disabled=t[0],g(e,"type",t[1])},m(l,a){b(l,e,a),o&&o.m(e,null),r=!0,n||(i=j(e,"click",t[4]),n=!0)},p(l,[a]){o&&o.p&&(!r||a&4)&&V(o,s,l,l[2],r?H(s,l[2],a,null):W(l[2]),null),(!r||a&1)&&(e.disabled=l[0]),(!r||a&2)&&g(e,"type",l[1])},i(l){r||(_(o,l),r=!0)},o(l){k(o,l),r=!1},d(l){l&&$(e),o&&o.d(l),n=!1,i()}}}function pn(t,e,r){let{$$slots:n={},$$scope:i}=e,{disabled:s=!1}=e,{type:o="button"}=e;function l(a){ae.call(this,t,a)}return t.$$set=a=>{"disabled"in a&&r(0,s=a.disabled),"type"in a&&r(1,o=a.type),"$$scope"in a&&r(2,i=a.$$scope)},[s,o,i,n,l]}class pe extends O{constructor(e){super(),E(this,e,pn,mn,B,{disabled:0,type:1})}}function gn(t){let e;return{c(){e=A("Login")},m(r,n){b(r,e,n)},d(r){r&&$(e)}}}function _n(t){let e,r,n,i,s,o,l,a,c,d,f,m,p,u,w,h,x,Ae,se,Be,F,oe,X,ge,Ee;n=new ct({});function kt(T){t[7](T)}let Oe={name:"username",disabled:t[3],placeholder:"Username",required:!0};t[0]!==void 0&&(Oe.value=t[0]),p=new Je({props:Oe}),me.push(()=>Le(p,"value",kt));function $t(T){t[8](T)}let xe={name:"password",disabled:t[3],placeholder:"Password",required:!0,password:!0};return t[1]!==void 0&&(xe.value=t[1]),h=new Je({props:xe}),me.push(()=>Le(h,"value",$t)),F=new pe({props:{type:"submit",disabled:t[3],$$slots:{default:[gn]},$$scope:{ctx:t}}}),{c(){e=y("button"),r=y("div"),S(n.$$.fragment),i=A(`
  Pixiv`),s=I(),o=y("div"),l=y("div"),a=I(),c=y("div"),d=y("h2"),d.textContent="Pixiv Login",f=I(),m=y("form"),S(p.$$.fragment),w=I(),S(h.$$.fragment),Ae=I(),se=y("div"),se.textContent="Login might be slow or fail often.",Be=I(),S(F.$$.fragment),g(r,"class","w-4 h-4"),g(e,"class","flex flex-row items-center font-bold"),g(l,"class","fixed inset-0 -z-10"),g(d,"class","font-bold"),g(se,"class","text-xs text-gray-500"),g(m,"class","flex flex-col gap-2 justify-center z-10"),g(c,"class","bg-white flex flex-col justify-center items-center p-4 gap-2"),g(o,"class",oe=`${t[2]?"flex":"hidden"} fixed justify-center items-center inset-0 backdrop-blur-sm `)},m(T,U){b(T,e,U),v(e,r),P(n,r,null),v(e,i),b(T,s,U),b(T,o,U),v(o,l),v(o,a),v(o,c),v(c,d),v(c,f),v(c,m),P(p,m,null),v(m,w),P(h,m,null),v(m,Ae),v(m,se),v(m,Be),P(F,m,null),X=!0,ge||(Ee=[j(e,"click",t[5]),j(l,"click",t[6]),j(m,"submit",Rt(t[9]))],ge=!0)},p(T,[U]){const _e={};U&8&&(_e.disabled=T[3]),!u&&U&1&&(u=!0,_e.value=T[0],qe(()=>u=!1)),p.$set(_e);const we={};U&8&&(we.disabled=T[3]),!x&&U&2&&(x=!0,we.value=T[1],qe(()=>x=!1)),h.$set(we);const ke={};U&8&&(ke.disabled=T[3]),U&2048&&(ke.$$scope={dirty:U,ctx:T}),F.$set(ke),(!X||U&4&&oe!==(oe=`${T[2]?"flex":"hidden"} fixed justify-center items-center inset-0 backdrop-blur-sm `))&&g(o,"class",oe)},i(T){X||(_(n.$$.fragment,T),_(p.$$.fragment,T),_(h.$$.fragment,T),_(F.$$.fragment,T),X=!0)},o(T){k(n.$$.fragment,T),k(p.$$.fragment,T),k(h.$$.fragment,T),k(F.$$.fragment,T),X=!1},d(T){T&&$(e),R(n),T&&$(s),T&&$(o),R(p),R(h),R(F),ge=!1,G(Ee)}}}const wn="pixiv";function kn(t,e,r){const n=ie();let i="",s="",o=!1,l=!1;const a=async()=>{const u=new on(new ut({basePath:ee.apiBase}));r(3,l=!0);try{const w=await u.pixivAuthPost({login:{username:i,password:s}});pt(w,wn),n("login"),r(2,o=!1),r(0,i=""),r(1,s="")}catch(w){console.log("Failed to login to pixiv",w)}finally{r(3,l=!1)}},c=()=>r(2,o=!o),d=()=>r(2,o=!1);function f(u){i=u,r(0,i)}function m(u){s=u,r(1,s)}return[i,s,o,l,a,c,d,f,m,()=>a()]}class $n extends O{constructor(e){super(),E(this,e,kn,_n,B,{})}}function De(t,e,r){const n=t.slice();return n[3]=e[r],n}function je(t){let e,r,n;return{c(){e=y("a"),g(e,"href",r="https://reddit.com"+t[3].link),g(e,"class","w-1/2 h-50v sm:w-1/4 sm:h-25v lg:w-1/6 lg:h-15v bg-cover"),g(e,"style",n=`background-image: url(${t[3].image})`)},m(i,s){b(i,e,s)},p(i,s){s&1&&r!==(r="https://reddit.com"+i[3].link)&&g(e,"href",r),s&1&&n!==(n=`background-image: url(${i[3].image})`)&&g(e,"style",n)},d(i){i&&$(e)}}}function bn(t){let e,r=t[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=je(De(t,r,i));return{c(){e=y("div");for(let i=0;i<n.length;i+=1)n[i].c();g(e,"class","flex flex-row flex-wrap w-full")},m(i,s){b(i,e,s);for(let o=0;o<n.length;o+=1)n[o].m(e,null)},p(i,[s]){if(s&1){r=i[0];let o;for(o=0;o<r.length;o+=1){const l=De(i,r,o);n[o]?n[o].p(l,s):(n[o]=je(l),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:N,o:N,d(i){i&&$(e),D(n,i)}}}function vn(t,e,r){let{api:n}=e,{username:i}=e,s=[];return re(async()=>{r(0,s=await n.getUpvoted(i))}),t.$$set=o=>{"api"in o&&r(1,n=o.api),"username"in o&&r(2,i=o.username)},[s,n,i]}class yn extends O{constructor(e){super(),E(this,e,vn,bn,B,{api:1,username:2})}}function Tn(t){let e,r;const n=t[2].default,i=K(n,t,t[1],null);return{c(){e=y("a"),i&&i.c(),g(e,"href",t[0]),g(e,"class","text-blue-900 hover:underline"),g(e,"target","_blank")},m(s,o){b(s,e,o),i&&i.m(e,null),r=!0},p(s,[o]){i&&i.p&&(!r||o&2)&&V(i,n,s,s[1],r?H(n,s[1],o,null):W(s[1]),null),(!r||o&1)&&g(e,"href",s[0])},i(s){r||(_(i,s),r=!0)},o(s){k(i,s),r=!1},d(s){s&&$(e),i&&i.d(s)}}}function Pn(t,e,r){let{$$slots:n={},$$scope:i}=e,{url:s}=e;return t.$$set=o=>{"url"in o&&r(0,s=o.url),"$$scope"in o&&r(1,i=o.$$scope)},[s,i,n]}class wt extends O{constructor(e){super(),E(this,e,Pn,Tn,B,{url:0})}}const Rn="https://oauth.reddit.com";class In{constructor(e,r="web:social-media-manager:0.0.1 (by /u/illu11)"){q(this,"headers");this.headers={Authorization:`Bearer ${e}`,"User-Agent":r}}async getJson(e){const r=await fetch(Rn+e,{headers:this.headers});return r.status!==200?null:await r.json()}async refreshToken(e){const r=await fetch(ee.apiBase+"/api/reddit/auth/refresh",{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});return r.status!==200?null:r.json()}async getUser(){const e=await this.getJson("/api/v1/me");return e?{id:e.id,name:e.name}:null}async getUpvoted(e){const r=await this.getJson(`/user/${e}/upvoted?sort=new&type=link`);return r?r.data.children.map(i=>i.data).map(i=>({link:i.permalink,image:i.url})):[]}}const Sn=t=>({api:t&2,username:t&1}),ze=t=>({api:t[1],username:t[0]});function Me(t){let e,r,n,i,s,o,l;n=new wt({props:{url:`https://reddit.com/u/${t[0]}`,$$slots:{default:[An]},$$scope:{ctx:t}}}),s=new pe({props:{$$slots:{default:[Bn]},$$scope:{ctx:t}}}),s.$on("click",t[5]);const a=t[4].default,c=K(a,t,t[6],ze);return{c(){e=y("div"),r=y("div"),S(n.$$.fragment),i=I(),S(s.$$.fragment),o=I(),c&&c.c(),g(r,"class","flex justify-between"),g(e,"class","flex flex-col gap-2")},m(d,f){b(d,e,f),v(e,r),P(n,r,null),v(r,i),P(s,r,null),v(e,o),c&&c.m(e,null),l=!0},p(d,f){const m={};f&1&&(m.url=`https://reddit.com/u/${d[0]}`),f&65&&(m.$$scope={dirty:f,ctx:d}),n.$set(m);const p={};f&64&&(p.$$scope={dirty:f,ctx:d}),s.$set(p),c&&c.p&&(!l||f&67)&&V(c,a,d,d[6],l?H(a,d[6],f,Sn):W(d[6]),ze)},i(d){l||(_(n.$$.fragment,d),_(s.$$.fragment,d),_(c,d),l=!0)},o(d){k(n.$$.fragment,d),k(s.$$.fragment,d),k(c,d),l=!1},d(d){d&&$(e),R(n),R(s),c&&c.d(d)}}}function An(t){let e,r;return{c(){e=A("Reddit - "),r=A(t[0])},m(n,i){b(n,e,i),b(n,r,i)},p(n,i){i&1&&ne(r,n[0])},d(n){n&&$(e),n&&$(r)}}}function Bn(t){let e;return{c(){e=A("x")},m(r,n){b(r,e,n)},d(r){r&&$(e)}}}function En(t){let e,r,n=t[0]&&Me(t);return{c(){n&&n.c(),e=te()},m(i,s){n&&n.m(i,s),b(i,e,s),r=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&_(n,1)):(n=Me(i),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(z(),k(n,1,1,()=>{n=null}),M())},i(i){r||(_(n),r=!0)},o(i){k(n),r=!1},d(i){n&&n.d(i),i&&$(e)}}}function On(t,e,r){let{$$slots:n={},$$scope:i}=e,{token:s}=e,o,l;const a=ie(),c=async p=>{r(1,l=new In(p.token));const u=await l.getUser();u==null?await d(p):r(0,o=u.name)},d=async p=>{if(p.refreshToken){console.log("Refreshing reddit token");const u=await l.refreshToken(p.refreshToken);u?(p=_t(p,u,"reddit"),p?a("refresh"):(console.log("Failed to read token"),f())):(console.log("Failed to get new token. Removing current token"),f())}},f=()=>{Ie(s,"reddit"),a("refresh")},m=()=>f();return t.$$set=p=>{"token"in p&&r(3,s=p.token),"$$scope"in p&&r(6,i=p.$$scope)},t.$$.update=()=>{t.$$.dirty&8&&c(s)},[o,l,f,s,n,m,i]}class xn extends O{constructor(e){super(),E(this,e,On,En,B,{token:3})}}const Un="https://www.pixiv.net";class Nn{constructor(e){q(this,"headers");this.headers={Authorization:`Bearer ${e}`}}async getJson(e){const r=await fetch(ee.apiBase+e,{headers:this.headers});return r.status!==200?null:await r.json()}async refreshToken(e){const r=await fetch(ee.apiBase+"/api/pixiv/auth/refresh",{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e})});return r.status!==200?null:r.json()}async getUser(){return await this.getJson("/api/pixiv/ping")?{id:"test",name:"test"}:null}async getBookmarks(e){const r=await this.getJson(`/api/pixiv/bookmarks?user_id=${e}`);return r?r.illusts.map(i=>({link:`${Un}/artworks/${i.id}`,image:this.formatImageUrl(i.image_urls.medium)})):[]}formatImageUrl(e){return e.replace(/\/c\/\w+\//,"/")}}const qn=t=>({api:t&2}),Ge=t=>({api:t[1]});function Ke(t){let e,r,n,i,s,o,l;n=new wt({props:{url:`https://www.pixiv.net/users/${t[0].id}`,$$slots:{default:[Ln]},$$scope:{ctx:t}}}),s=new pe({props:{$$slots:{default:[Fn]},$$scope:{ctx:t}}}),s.$on("click",t[5]);const a=t[4].default,c=K(a,t,t[6],Ge);return{c(){e=y("div"),r=y("div"),S(n.$$.fragment),i=I(),S(s.$$.fragment),o=I(),c&&c.c(),g(r,"class","flex justify-between"),g(e,"class","flex flex-col gap-2")},m(d,f){b(d,e,f),v(e,r),P(n,r,null),v(r,i),P(s,r,null),v(e,o),c&&c.m(e,null),l=!0},p(d,f){const m={};f&1&&(m.url=`https://www.pixiv.net/users/${d[0].id}`),f&65&&(m.$$scope={dirty:f,ctx:d}),n.$set(m);const p={};f&64&&(p.$$scope={dirty:f,ctx:d}),s.$set(p),c&&c.p&&(!l||f&66)&&V(c,a,d,d[6],l?H(a,d[6],f,qn):W(d[6]),Ge)},i(d){l||(_(n.$$.fragment,d),_(s.$$.fragment,d),_(c,d),l=!0)},o(d){k(n.$$.fragment,d),k(s.$$.fragment,d),k(c,d),l=!1},d(d){d&&$(e),R(n),R(s),c&&c.d(d)}}}function Ln(t){let e,r=t[0].name+"",n;return{c(){e=A("Pixiv - "),n=A(r)},m(i,s){b(i,e,s),b(i,n,s)},p(i,s){s&1&&r!==(r=i[0].name+"")&&ne(n,r)},d(i){i&&$(e),i&&$(n)}}}function Fn(t){let e;return{c(){e=A("x")},m(r,n){b(r,e,n)},d(r){r&&$(e)}}}function Cn(t){let e,r,n=t[0]&&Ke(t);return{c(){n&&n.c(),e=te()},m(i,s){n&&n.m(i,s),b(i,e,s),r=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&_(n,1)):(n=Ke(i),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(z(),k(n,1,1,()=>{n=null}),M())},i(i){r||(_(n),r=!0)},o(i){k(n),r=!1},d(i){n&&n.d(i),i&&$(e)}}}function Jn(t,e,r){let{$$slots:n={},$$scope:i}=e,{token:s}=e,o,l;const a=ie(),c=async p=>{r(1,l=new Nn(p.token)),await l.getUser()==null?await d(p):r(0,o={id:p.userId,name:p.username})},d=async p=>{if(p.refreshToken){console.log("Refreshing pixiv token");const u=await l.refreshToken(p.refreshToken);u?(p=_t(p,u,"pixiv"),p?a("refresh"):(console.log("Failed to read token"),f())):(console.log("Failed to get new token. Removing current token"),f())}},f=()=>{Ie(s,"pixiv"),a("refresh")},m=()=>f();return t.$$set=p=>{"token"in p&&r(3,s=p.token),"$$scope"in p&&r(6,i=p.$$scope)},t.$$.update=()=>{t.$$.dirty&8&&c(s)},[o,l,f,s,n,m,i]}class Dn extends O{constructor(e){super(),E(this,e,Jn,Cn,B,{token:3})}}function He(t,e,r){const n=t.slice();return n[3]=e[r],n}function Ve(t){let e,r,n;return{c(){e=y("a"),g(e,"href",r="https://reddit.com"+t[3].link),g(e,"class","w-1/2 h-50v sm:w-1/4 sm:h-25v lg:w-1/6 lg:h-15v bg-cover"),g(e,"style",n=`background-image: url(${t[3].image})`)},m(i,s){b(i,e,s)},p(i,s){s&1&&r!==(r="https://reddit.com"+i[3].link)&&g(e,"href",r),s&1&&n!==(n=`background-image: url(${i[3].image})`)&&g(e,"style",n)},d(i){i&&$(e)}}}function jn(t){let e,r=t[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=Ve(He(t,r,i));return{c(){e=y("div");for(let i=0;i<n.length;i+=1)n[i].c();g(e,"class","flex flex-row flex-wrap w-full")},m(i,s){b(i,e,s);for(let o=0;o<n.length;o+=1)n[o].m(e,null)},p(i,[s]){if(s&1){r=i[0];let o;for(o=0;o<r.length;o+=1){const l=He(i,r,o);n[o]?n[o].p(l,s):(n[o]=Ve(l),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:N,o:N,d(i){i&&$(e),D(n,i)}}}function zn(t,e,r){let{api:n}=e,{userId:i}=e,s=[];return re(async()=>{r(0,s=await n.getBookmarks(i)),console.log(s)}),t.$$set=o=>{"api"in o&&r(1,n=o.api),"userId"in o&&r(2,i=o.userId)},[s,n,i]}class Mn extends O{constructor(e){super(),E(this,e,zn,jn,B,{api:1,userId:2})}}const Gn="https://api.twitter.com/2";class Kn{constructor(e){q(this,"headers");this.headers={Authorization:`Bearer ${e}`}}async getJson(e){const r=await fetch(Gn+e,{headers:this.headers});return r.status!==200?null:await r.json()}async getUser(){return{id:"",name:"<UNAVAILABLE>"}}async getIdOfUser(e){const{data:r}=await this.getJson(`/users/by/username/${e}`);return console.log(r),""}async getUpvoted(e){const r=await this.getJson(`/user/${e}/upvoted?sort=new&type=link`);return r?r.data.children.map(i=>i.data).map(i=>({link:i.permalink,image:i.url})):[]}}const Hn=t=>({api:t&2}),We=t=>({api:t[1]});function Xe(t){let e,r,n,i,s,o,l,a;o=new pe({props:{$$slots:{default:[Vn]},$$scope:{ctx:t}}}),o.$on("click",t[5]);const c=t[4].default,d=K(c,t,t[6],We);return{c(){e=y("div"),r=y("div"),n=A("Twitter2 - "),i=A(t[0]),s=I(),S(o.$$.fragment),l=I(),d&&d.c(),g(r,"class","flex justify-between"),g(e,"class","flex flex-col gap-2")},m(f,m){b(f,e,m),v(e,r),v(r,n),v(r,i),v(r,s),P(o,r,null),v(e,l),d&&d.m(e,null),a=!0},p(f,m){(!a||m&1)&&ne(i,f[0]);const p={};m&64&&(p.$$scope={dirty:m,ctx:f}),o.$set(p),d&&d.p&&(!a||m&66)&&V(d,c,f,f[6],a?H(c,f[6],m,Hn):W(f[6]),We)},i(f){a||(_(o.$$.fragment,f),_(d,f),a=!0)},o(f){k(o.$$.fragment,f),k(d,f),a=!1},d(f){f&&$(e),R(o),d&&d.d(f)}}}function Vn(t){let e;return{c(){e=A("x")},m(r,n){b(r,e,n)},d(r){r&&$(e)}}}function Wn(t){let e,r,n=t[0]&&Xe(t);return{c(){n&&n.c(),e=te()},m(i,s){n&&n.m(i,s),b(i,e,s),r=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&_(n,1)):(n=Xe(i),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(z(),k(n,1,1,()=>{n=null}),M())},i(i){r||(_(n),r=!0)},o(i){k(n),r=!1},d(i){n&&n.d(i),i&&$(e)}}}function Xn(t,e,r){let{$$slots:n={},$$scope:i}=e,{token:s}=e,o,l;const a=ie(),c=async p=>{r(1,l=new Kn(p.token));const u=await l.getUser();u==null?await d():r(0,o=u.name)},d=async p=>{},f=()=>{Ie(s,"twitter2"),a("refresh")},m=()=>f();return t.$$set=p=>{"token"in p&&r(3,s=p.token),"$$scope"in p&&r(6,i=p.$$scope)},t.$$.update=()=>{t.$$.dirty&8&&c(s)},[o,l,f,s,n,m,i]}class Qn extends O{constructor(e){super(),E(this,e,Xn,Wn,B,{token:3})}}function Qe(t,e,r){const n=t.slice();return n[2]=e[r],n}function Ye(t){let e,r,n;return{c(){e=y("a"),g(e,"href",r="https://reddit.com"+t[2].link),g(e,"class","w-1/2 h-50v sm:w-1/4 sm:h-25v lg:w-1/6 lg:h-15v bg-cover"),g(e,"style",n=`background-image: url(${t[2].image})`)},m(i,s){b(i,e,s)},p:N,d(i){i&&$(e)}}}function Yn(t){let e,r,n,i=t[0],s=[];for(let o=0;o<i.length;o+=1)s[o]=Ye(Qe(t,i,o));return{c(){e=y("input"),r=I(),n=y("div");for(let o=0;o<s.length;o+=1)s[o].c();g(e,"placeholder","add username"),g(n,"class","flex flex-row flex-wrap w-full")},m(o,l){b(o,e,l),b(o,r,l),b(o,n,l);for(let a=0;a<s.length;a+=1)s[a].m(n,null)},p(o,[l]){if(l&1){i=o[0];let a;for(a=0;a<i.length;a+=1){const c=Qe(o,i,a);s[a]?s[a].p(c,l):(s[a]=Ye(c),s[a].c(),s[a].m(n,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},i:N,o:N,d(o){o&&$(e),o&&$(r),o&&$(n),D(s,o)}}}function Zn(t,e,r){let{api:n}=e,i=[];return re(async()=>{}),addUser=()=>{},t.$$set=s=>{"api"in s&&r(1,n=s.api)},[i,n]}class er extends O{constructor(e){super(),E(this,e,Zn,Yn,B,{api:1})}}function Ze(t,e,r){const n=t.slice();return n[6]=e[r],n}function et(t,e,r){const n=t.slice();return n[6]=e[r],n}function tt(t,e,r){const n=t.slice();return n[6]=e[r],n}function tr(t){let e,r;return e=new yn({props:{api:t[9],username:t[14]}}),{c(){S(e.$$.fragment)},m(n,i){P(e,n,i),r=!0},p(n,i){const s={};i&512&&(s.api=n[9]),i&16384&&(s.username=n[14]),e.$set(s)},i(n){r||(_(e.$$.fragment,n),r=!0)},o(n){k(e.$$.fragment,n),r=!1},d(n){R(e,n)}}}function nt(t){let e,r;return e=new xn({props:{token:t[6],$$slots:{default:[tr,({api:n,username:i})=>({9:n,14:i}),({api:n,username:i})=>(n?512:0)|(i?16384:0)]},$$scope:{ctx:t}}}),e.$on("refresh",t[3]),{c(){S(e.$$.fragment)},m(n,i){P(e,n,i),r=!0},p(n,i){const s={};i&1&&(s.token=n[6]),i&49664&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){r||(_(e.$$.fragment,n),r=!0)},o(n){k(e.$$.fragment,n),r=!1},d(n){R(e,n)}}}function nr(t){let e,r;return e=new Mn({props:{api:t[9],userId:t[6].userId}}),{c(){S(e.$$.fragment)},m(n,i){P(e,n,i),r=!0},p(n,i){const s={};i&512&&(s.api=n[9]),i&2&&(s.userId=n[6].userId),e.$set(s)},i(n){r||(_(e.$$.fragment,n),r=!0)},o(n){k(e.$$.fragment,n),r=!1},d(n){R(e,n)}}}function rt(t){let e,r;return e=new Dn({props:{token:t[6],$$slots:{default:[nr,({api:n})=>({9:n}),({api:n})=>n?512:0]},$$scope:{ctx:t}}}),e.$on("refresh",t[4]),{c(){S(e.$$.fragment)},m(n,i){P(e,n,i),r=!0},p(n,i){const s={};i&2&&(s.token=n[6]),i&33282&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){r||(_(e.$$.fragment,n),r=!0)},o(n){k(e.$$.fragment,n),r=!1},d(n){R(e,n)}}}function rr(t){let e,r,n;return e=new er({props:{api:t[9]}}),{c(){S(e.$$.fragment),r=I()},m(i,s){P(e,i,s),b(i,r,s),n=!0},p(i,s){const o={};s&512&&(o.api=i[9]),e.$set(o)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){k(e.$$.fragment,i),n=!1},d(i){R(e,i),i&&$(r)}}}function it(t){let e,r;return e=new Qn({props:{token:t[6],$$slots:{default:[rr,({api:n})=>({9:n}),({api:n})=>n?512:0]},$$scope:{ctx:t}}}),e.$on("refresh",t[5]),{c(){S(e.$$.fragment)},m(n,i){P(e,n,i),r=!0},p(n,i){const s={};i&4&&(s.token=n[6]),i&33280&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){r||(_(e.$$.fragment,n),r=!0)},o(n){k(e.$$.fragment,n),r=!1},d(n){R(e,n)}}}function ir(t){let e,r,n,i,s=t[0],o=[];for(let u=0;u<s.length;u+=1)o[u]=nt(tt(t,s,u));const l=u=>k(o[u],1,1,()=>{o[u]=null});let a=t[1],c=[];for(let u=0;u<a.length;u+=1)c[u]=rt(et(t,a,u));const d=u=>k(c[u],1,1,()=>{c[u]=null});let f=t[2],m=[];for(let u=0;u<f.length;u+=1)m[u]=it(Ze(t,f,u));const p=u=>k(m[u],1,1,()=>{m[u]=null});return{c(){e=y("div");for(let u=0;u<o.length;u+=1)o[u].c();r=I();for(let u=0;u<c.length;u+=1)c[u].c();n=I();for(let u=0;u<m.length;u+=1)m[u].c();g(e,"class","flex flex-col")},m(u,w){b(u,e,w);for(let h=0;h<o.length;h+=1)o[h].m(e,null);v(e,r);for(let h=0;h<c.length;h+=1)c[h].m(e,null);v(e,n);for(let h=0;h<m.length;h+=1)m[h].m(e,null);i=!0},p(u,[w]){if(w&16897){s=u[0];let h;for(h=0;h<s.length;h+=1){const x=tt(u,s,h);o[h]?(o[h].p(x,w),_(o[h],1)):(o[h]=nt(x),o[h].c(),_(o[h],1),o[h].m(e,r))}for(z(),h=s.length;h<o.length;h+=1)l(h);M()}if(w&514){a=u[1];let h;for(h=0;h<a.length;h+=1){const x=et(u,a,h);c[h]?(c[h].p(x,w),_(c[h],1)):(c[h]=rt(x),c[h].c(),_(c[h],1),c[h].m(e,n))}for(z(),h=a.length;h<c.length;h+=1)d(h);M()}if(w&516){f=u[2];let h;for(h=0;h<f.length;h+=1){const x=Ze(u,f,h);m[h]?(m[h].p(x,w),_(m[h],1)):(m[h]=it(x),m[h].c(),_(m[h],1),m[h].m(e,null))}for(z(),h=f.length;h<m.length;h+=1)p(h);M()}},i(u){if(!i){for(let w=0;w<s.length;w+=1)_(o[w]);for(let w=0;w<a.length;w+=1)_(c[w]);for(let w=0;w<f.length;w+=1)_(m[w]);i=!0}},o(u){o=o.filter(Boolean);for(let w=0;w<o.length;w+=1)k(o[w]);c=c.filter(Boolean);for(let w=0;w<c.length;w+=1)k(c[w]);m=m.filter(Boolean);for(let w=0;w<m.length;w+=1)k(m[w]);i=!1},d(u){u&&$(e),D(o,u),D(c,u),D(m,u)}}}function sr(t,e,r){let{redditTokens:n=[]}=e,{pixivTokens:i=[]}=e,{twitter2Tokens:s=[]}=e;function o(c){ae.call(this,t,c)}function l(c){ae.call(this,t,c)}function a(c){ae.call(this,t,c)}return t.$$set=c=>{"redditTokens"in c&&r(0,n=c.redditTokens),"pixivTokens"in c&&r(1,i=c.pixivTokens),"twitter2Tokens"in c&&r(2,s=c.twitter2Tokens)},[n,i,s,o,l,a]}class or extends O{constructor(e){super(),E(this,e,sr,ir,B,{redditTokens:0,pixivTokens:1,twitter2Tokens:2})}}function lr(t){let e,r,n,i,s,o,l,a,c,d,f,m,p;return n=new ve({props:{provider:"twitter2"}}),n.$on("login",t[3]),s=new ve({props:{provider:"reddit"}}),s.$on("login",t[4]),l=new ve({props:{provider:"pinterest"}}),l.$on("login",t[5]),c=new $n({}),c.$on("login",t[6]),m=new or({props:{redditTokens:t[0],pixivTokens:t[1]}}),m.$on("refresh",t[7]),{c(){e=y("div"),r=y("header"),S(n.$$.fragment),i=I(),S(s.$$.fragment),o=I(),S(l.$$.fragment),a=I(),S(c.$$.fragment),d=I(),f=y("main"),S(m.$$.fragment),g(r,"class","flex flex-row justify-center gap-4 border-b p-2"),g(f,"class","p-4"),g(e,"class","h-full flex flex-col")},m(u,w){b(u,e,w),v(e,r),P(n,r,null),v(r,i),P(s,r,null),v(r,o),P(l,r,null),v(r,a),P(c,r,null),v(e,d),v(e,f),P(m,f,null),p=!0},p(u,[w]){const h={};w&1&&(h.redditTokens=u[0]),w&2&&(h.pixivTokens=u[1]),m.$set(h)},i(u){p||(_(n.$$.fragment,u),_(s.$$.fragment,u),_(l.$$.fragment,u),_(c.$$.fragment,u),_(m.$$.fragment,u),p=!0)},o(u){k(n.$$.fragment,u),k(s.$$.fragment,u),k(l.$$.fragment,u),k(c.$$.fragment,u),k(m.$$.fragment,u),p=!1},d(u){u&&$(e),R(n),R(s),R(l),R(c),R(m)}}}function ar(t,e,r){let n=[],i=[];const s=()=>{L("twitter"),L("twitter2"),r(0,n=L("reddit")),r(1,i=L("pixiv")),L("pinterest")};return console.log("%c THIS IS A WARNING ","color: #bc3939; font-size: 16px"),console.log("%c Be careful when executing something in here. It's possible to get your account information","color: #bc3939; font-size: 14px"),re(()=>s()),[n,i,s,()=>s(),()=>s(),()=>s(),()=>s(),()=>s()]}class cr extends O{constructor(e){super(),E(this,e,ar,lr,B,{})}}new cr({target:document.getElementById("app")});
